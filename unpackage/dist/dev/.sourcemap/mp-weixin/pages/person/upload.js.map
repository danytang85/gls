{"version":3,"sources":["webpack:////Users/danytang/web/gls/www/glsapp/main.js","webpack:////Users/danytang/web/gls/www/glsapp/pages/person/upload.vue?1d0e","webpack:////Users/danytang/web/gls/www/glsapp/pages/person/upload.vue?f5bf","webpack:////Users/danytang/web/gls/www/glsapp/pages/person/upload.vue?237a","webpack:////Users/danytang/web/gls/www/glsapp/pages/person/upload.vue?0b9f","webpack:////Users/danytang/web/gls/www/glsapp/pages/person/upload.vue","webpack:////Users/danytang/web/gls/www/glsapp/pages/person/upload.vue?f728","webpack:////Users/danytang/web/gls/www/glsapp/pages/person/upload.vue?01cb"],"names":["createPage","Page","device","uni","getSystemInfoSync","width","windowWidth","height","windowHeight","console","log","data","src","cropperOpt","id","scale","zoom","cut","x","y","weCropper","methods","back","redirectTo","url","touchStart","e","touchMove","touchEnd","convertBase64UrlToBlob","dataURI","type","binary","atob","split","array","i","length","push","charCodeAt","Blob","Uint8Array","filename","blobToDataURL","blob","a","FileReader","readAsDataURL","onload","getRes","target","result","getCropperImage","_this","showLoading","title","pathurl","apiServer","avatar","token","getStorageSync","uploadTask","uploadFile","filePath","name","header","success","res","JSON","parse","wx","navigateTo","hideLoading","$api","msg","ail","err","showModal","content","errMsg","showCancel","complete","uploadTap","self","chooseImage","count","sizeType","sourceType","tempFilePaths","pushOrign","onLoad","options","Object","assign","on","ctx","showToast","icon","duration","hideToast"],"mappings":"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","file":"pages/person/upload.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/person/upload.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./upload.vue?vue&type=template&id=e6e604b8&\"\nimport script from \"./upload.vue?vue&type=script&lang=js&\"\nexport * from \"./upload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./upload.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('e6e604b8', component.options)\n    } else {\n      api.reload('e6e604b8', component.options)\n    }\n    module.hot.accept(\"./upload.vue?vue&type=template&id=e6e604b8&\", function () {\n      api.rerender('e6e604b8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/danytang/web/gls/www/glsapp/pages/person/upload.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=template&id=e6e604b8&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport http from '@/components/utils/http.js';\nimport weCropper from '../../static/weCropper';\nconst device = uni.getSystemInfoSync();\nconst width = device.windowWidth;\nconst height = device.windowHeight - 50;\nconsole.log(device);\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tsrc:\"/static/missing-face.png\",\n\t\t\tcropperOpt: {\n\t\t\t\tid: 'cropper',\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\tscale: 2.5,\n\t\t\t\tzoom: 8,\n\t\t\t\tcut: {\n\t\t\t\t\tx: (width - 300) / 2,\n\t\t\t\t\ty: (height - 300) / 2,\n\t\t\t\t\twidth: 300,\n\t\t\t\t\theight: 300\n\t\t\t\t}\n\t\t\t},\n\t\t\tweCropper: ''\n\t\t};\n\t},\n\tmethods: {\n\t\tback() {\n\t\t\tuni.redirectTo({\n\t\t\t\turl: '../infoDetail/infoDetail'\n\t\t\t});\n\t\t},\n\t\ttouchStart(e) {\n\t\t\tthis.weCropper.touchStart(e);\n\t\t},\n\t\ttouchMove(e) {\n\t\t\tthis.weCropper.touchMove(e);\n\t\t},\n\t\ttouchEnd(e) {\n\t\t\tthis.weCropper.touchEnd(e);\n\t\t},\n\t\tconvertBase64UrlToBlob(dataURI, type) {\n\t\t\tvar binary = atob(dataURI.split(',')[1]);\n\t\t\tvar array = [];\n\t\t\tfor (var i = 0; i < binary.length; i++) {\n\t\t\t\tarray.push(binary.charCodeAt(i));\n\t\t\t}\n\t\t\treturn new Blob([new Uint8Array(array)], { type: type }, { filename: '1111.jpg' });\n\t\t},\n\t\tblobToDataURL(blob) {\n\t\t\tvar a = new FileReader();\n\t\t\ta.readAsDataURL(blob); //读取文件保存在result中\n\t\t\ta.onload = function(e) {\n\t\t\t\tvar getRes = e.target.result; //读取的结果在result中\n\t\t\t\tconsole.log(getRes);\n\t\t\t};\n\t\t},\n\t\tgetCropperImage() {\n\t\t\tlet _this = this;\n\t\t\tuni.showLoading({\n\t\t\t\ttitle:\"头像更新中...\"\n\t\t\t})\n\t\t\tlet pathurl = _this.apiServer + '/base/uploadheadimg/';//上传服务器地址\n\t\t\tthis.weCropper.getCropperImage(avatar => {\n\t\t\t\tif (avatar) {\n\t\t\t\t\tlet token = uni.getStorageSync(\"token\");\n\t\t\t\t\t let uploadTask=uni.uploadFile({\n\t\t\t\t\t\turl: pathurl,\n\t\t\t\t\t\tfilePath: avatar,\n\t\t\t\t\t\tname: 'file',\n\t\t\t\t\t\theader:{\n\t\t\t\t\t\t\t'Authorization': token,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\tlet data=JSON.parse(res.data);\n\t\t\t\t\t\t\tif (data['code'] == 0) {\n\t\t\t\t\t\t\t\twx.navigateTo({\n\t\t\t\t\t\t\t\t  url: './home'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t uni.hideLoading();\n\t\t\t\t\t\t\t\t this.$api.msg(data.msg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tail: err => {\n\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\tcontent: err.errMsg,\n\t\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\n\t\t\t\t\t\tcomplete: (e) => {\n\t\t\t\t\t\t\t// uni.showModal({\n\t\t\t\t\t\t\t// \tcontent: \"complate\",\n\t\t\t\t\t\t\t// \tshowCancel: false\n\t\t\t\t\t\t\t// });\n\t\t\t\t\t\t\tconsole.log('complate');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t// uploadTask.onProgressUpdate((res) => {\n\t\t\t\t\t//             console.log('上传进度' + res.progress);\n\t\t\t\t\t//             console.log('已经上传的数据长度' + res.totalBytesSent);\n\t\t\t\t\t//             console.log('预期需要上传的数据总长度' + res.totalBytesExpectedToSend);\n\t\t\t\t\t\n\t\t\t\t\t//             // 测试条件，取消上传任务。\n\t\t\t\t\t//             // if (res.progress > 50) {\n\t\t\t\t\t//             //     uploadTask.abort();\n\t\t\t\t\t//             // }\n\t\t\t\t\t//         });\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t//  获取到裁剪后的图片\n\t\t\t\t\t// let opts = {\n\t\t\t\t\t// \turl: '/base/uploadheadimg/',\n\t\t\t\t\t// \tmethod: 'post'\n\t\t\t\t\t// };\n\t\t\t\t\t// let param = {\n\t\t\t\t\t// };\n\t\t\t\t\t// http.httpTokenUpload(opts,avatar,param).then(\n\t\t\t\t\t// \tres => {\n\t\t\t\t\t// \t\t//打印请求返回的数据\n\t\t\t\t\t// \t\tlet data=JSON.parse(res.data);\n\t\t\t\t\t// \t\tconsole.log(data);\n\t\t\t\t\t// \t\tif (data['code'] == 0) {\n\t\t\t\t\t// \t\t\twx.navigateTo({\n\t\t\t\t\t// \t\t\t  url: './home'\n\t\t\t\t\t// \t\t\t})\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t// \t\t} else {\n\t\t\t\t\t// \t\t\t uni.hideLoading();\n\t\t\t\t\t// \t\t\t this.$api.msg(data.msg);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t// \t\t}\n\t\t\t\t\t// \t},\n\t\t\t\t\t// \terror => {\n\t\t\t\t\t// \t\tconsole.log('uploadImage fail', err);\n\t\t\t\t\t// \t\tuni.showModal({\n\t\t\t\t\t// \t\t\tcontent: err.errMsg,\n\t\t\t\t\t// \t\t\tshowCancel: false\n\t\t\t\t\t// \t\t});\n\t\t\t\t\t// \t\tuni.hideLoading();\n\t\t\t\t\t// \t}\n\t\t\t\t\t// );\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('获取图片失败，请稍后重试');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tuploadTap() {\n\t\t\tconst self = this;\n\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1, // 默认9\n\t\t\t\tsizeType: ['compressed'], // 可以指定是原图还是压缩图，默认二者都有\n\t\t\t\tsourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tlet src = res.tempFilePaths[0];\n\t\t\t\t\t//  获取裁剪图片资源后，给data添加src属性及其值\n\t\t\t\t\tself.weCropper.pushOrign(src);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tonLoad(options) {\n\t\t// do something\n\t\tconst cropperOpt = this.cropperOpt;\n\t\t\n\t\tconst src = options.src;\n\t\t\n\t\t//console.log(\"src\",options.src);\n\t\tif (src) {\n\t\t\tObject.assign(cropperOpt, {\n\t\t\t\tsrc\n\t\t\t});\n\t\t\t\n\n\t\t\tthis.weCropper = new weCropper(cropperOpt)\n\t\t\t\t.on('ready', function(ctx) {})\n\t\t\t\t.on('beforeImageLoad', ctx => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '上传中',\n\t\t\t\t\t\ticon: 'loading',\n\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.on('imageLoad', ctx => {\n\t\t\t\t\tuni.hideToast();\n\t\t\t\t});\n\t\t}\n\t}\n};\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}