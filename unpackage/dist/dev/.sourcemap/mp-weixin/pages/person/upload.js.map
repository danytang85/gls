{"version":3,"sources":["webpack:////Users/danytang/web/gls/www/glsapp/main.js","webpack:////Users/danytang/web/gls/www/glsapp/pages/person/upload.vue?f59a","webpack:////Users/danytang/web/gls/www/glsapp/pages/person/upload.vue?27be","webpack:////Users/danytang/web/gls/www/glsapp/pages/person/upload.vue?f3c5","webpack:////Users/danytang/web/gls/www/glsapp/pages/person/upload.vue?16a8","webpack:////Users/danytang/web/gls/www/glsapp/pages/person/upload.vue","webpack:////Users/danytang/web/gls/www/glsapp/pages/person/upload.vue?f9ba"],"names":["__webpack_require__","_interopRequireDefault","createPage","Page","r","__webpack_exports__","_upload_vue_vue_type_template_id_e6e604b8___WEBPACK_IMPORTED_MODULE_0__","_upload_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","d","_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","renderjs","options","__file","_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_upload_vue_vue_type_template_id_e6e604b8___WEBPACK_IMPORTED_MODULE_0__","render","staticRenderFns","recyclableRender","_h","this","$createElement","_self","_c","_withStripped","_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_upload_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_upload_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","n","_weCropper","device","uni","getSystemInfoSync","width","windowWidth","height","windowHeight","console","log","data","src","cropperOpt","id","scale","zoom","cut","x","y","weCropper","methods","back","redirectTo","url","touchStart","e","touchMove","touchEnd","convertBase64UrlToBlob","dataURI","type","binary","atob","split","array","i","length","push","charCodeAt","Blob","Uint8Array","filename","blobToDataURL","blob","a","FileReader","readAsDataURL","onload","getRes","target","result","getCropperImage","_this2","showLoading","title","pathurl","apiServer","avatar","token","getStorageSync","uploadFile","filePath","name","header","Authorization","success","res","JSON","parse","wx","navigateTo","hideLoading","$api","msg","ail","err","showModal","content","errMsg","showCancel","complete","uploadTap","self","chooseImage","count","sizeType","sourceType","tempFilePaths","pushOrign","onLoad","assign","on","ctx","showToast","icon","duration","hideToast","_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_upload_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_upload_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"pages/person/upload.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/person/upload.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./upload.vue?vue&type=template&id=e6e604b8&\"\nvar renderjs\nimport script from \"./upload.vue?vue&type=script&lang=js&\"\nexport * from \"./upload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./upload.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('e6e604b8')) {\n      api.createRecord('e6e604b8', component.options)\n    } else {\n      api.reload('e6e604b8', component.options)\n    }\n    module.hot.accept(\"./upload.vue?vue&type=template&id=e6e604b8&\", function () {\n      api.rerender('e6e604b8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/danytang/web/gls/www/glsapp/pages/person/upload.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=template&id=e6e604b8&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport http from '@/components/utils/http.js';\nimport weCropper from '../../static/weCropper';\nconst device = uni.getSystemInfoSync();\nconst width = device.windowWidth;\nconst height = device.windowHeight - 50;\nconsole.log(device);\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tsrc:\"/static/missing-face.png\",\n\t\t\tcropperOpt: {\n\t\t\t\tid: 'cropper',\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\tscale: 2.5,\n\t\t\t\tzoom: 8,\n\t\t\t\tcut: {\n\t\t\t\t\tx: (width - 300) / 2,\n\t\t\t\t\ty: (height - 300) / 2,\n\t\t\t\t\twidth: 300,\n\t\t\t\t\theight: 300\n\t\t\t\t}\n\t\t\t},\n\t\t\tweCropper: ''\n\t\t};\n\t},\n\tmethods: {\n\t\tback() {\n\t\t\tuni.redirectTo({\n\t\t\t\turl: '../infoDetail/infoDetail'\n\t\t\t});\n\t\t},\n\t\ttouchStart(e) {\n\t\t\tthis.weCropper.touchStart(e);\n\t\t},\n\t\ttouchMove(e) {\n\t\t\tthis.weCropper.touchMove(e);\n\t\t},\n\t\ttouchEnd(e) {\n\t\t\tthis.weCropper.touchEnd(e);\n\t\t},\n\t\tconvertBase64UrlToBlob(dataURI, type) {\n\t\t\tvar binary = atob(dataURI.split(',')[1]);\n\t\t\tvar array = [];\n\t\t\tfor (var i = 0; i < binary.length; i++) {\n\t\t\t\tarray.push(binary.charCodeAt(i));\n\t\t\t}\n\t\t\treturn new Blob([new Uint8Array(array)], { type: type }, { filename: '1111.jpg' });\n\t\t},\n\t\tblobToDataURL(blob) {\n\t\t\tvar a = new FileReader();\n\t\t\ta.readAsDataURL(blob); //读取文件保存在result中\n\t\t\ta.onload = function(e) {\n\t\t\t\tvar getRes = e.target.result; //读取的结果在result中\n\t\t\t\tconsole.log(getRes);\n\t\t\t};\n\t\t},\n\t\tgetCropperImage() {\n\t\t\tlet _this = this;\n\t\t\tuni.showLoading({\n\t\t\t\ttitle:\"头像更新中...\"\n\t\t\t})\n\t\t\tlet pathurl = _this.apiServer + '/base/uploadheadimg/';//上传服务器地址\n\t\t\tthis.weCropper.getCropperImage(avatar => {\n\t\t\t\tif (avatar) {\n\t\t\t\t\tlet token = uni.getStorageSync(\"token\");\n\t\t\t\t\t let uploadTask=uni.uploadFile({\n\t\t\t\t\t\turl: pathurl,\n\t\t\t\t\t\tfilePath: avatar,\n\t\t\t\t\t\tname: 'file',\n\t\t\t\t\t\theader:{\n\t\t\t\t\t\t\t'Authorization': token,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\tlet data=JSON.parse(res.data);\n\t\t\t\t\t\t\tif (data['code'] == 0) {\n\t\t\t\t\t\t\t\twx.navigateTo({\n\t\t\t\t\t\t\t\t  url: './home'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t uni.hideLoading();\n\t\t\t\t\t\t\t\t this.$api.msg(data.msg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tail: err => {\n\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\tcontent: err.errMsg,\n\t\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\n\t\t\t\t\t\tcomplete: (e) => {\n\t\t\t\t\t\t\t// uni.showModal({\n\t\t\t\t\t\t\t// \tcontent: \"complate\",\n\t\t\t\t\t\t\t// \tshowCancel: false\n\t\t\t\t\t\t\t// });\n\t\t\t\t\t\t\tconsole.log('complate');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t// uploadTask.onProgressUpdate((res) => {\n\t\t\t\t\t//             console.log('上传进度' + res.progress);\n\t\t\t\t\t//             console.log('已经上传的数据长度' + res.totalBytesSent);\n\t\t\t\t\t//             console.log('预期需要上传的数据总长度' + res.totalBytesExpectedToSend);\n\t\t\t\t\t\n\t\t\t\t\t//             // 测试条件，取消上传任务。\n\t\t\t\t\t//             // if (res.progress > 50) {\n\t\t\t\t\t//             //     uploadTask.abort();\n\t\t\t\t\t//             // }\n\t\t\t\t\t//         });\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t//  获取到裁剪后的图片\n\t\t\t\t\t// let opts = {\n\t\t\t\t\t// \turl: '/base/uploadheadimg/',\n\t\t\t\t\t// \tmethod: 'post'\n\t\t\t\t\t// };\n\t\t\t\t\t// let param = {\n\t\t\t\t\t// };\n\t\t\t\t\t// http.httpTokenUpload(opts,avatar,param).then(\n\t\t\t\t\t// \tres => {\n\t\t\t\t\t// \t\t//打印请求返回的数据\n\t\t\t\t\t// \t\tlet data=JSON.parse(res.data);\n\t\t\t\t\t// \t\tconsole.log(data);\n\t\t\t\t\t// \t\tif (data['code'] == 0) {\n\t\t\t\t\t// \t\t\twx.navigateTo({\n\t\t\t\t\t// \t\t\t  url: './home'\n\t\t\t\t\t// \t\t\t})\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t// \t\t} else {\n\t\t\t\t\t// \t\t\t uni.hideLoading();\n\t\t\t\t\t// \t\t\t this.$api.msg(data.msg);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t// \t\t}\n\t\t\t\t\t// \t},\n\t\t\t\t\t// \terror => {\n\t\t\t\t\t// \t\tconsole.log('uploadImage fail', err);\n\t\t\t\t\t// \t\tuni.showModal({\n\t\t\t\t\t// \t\t\tcontent: err.errMsg,\n\t\t\t\t\t// \t\t\tshowCancel: false\n\t\t\t\t\t// \t\t});\n\t\t\t\t\t// \t\tuni.hideLoading();\n\t\t\t\t\t// \t}\n\t\t\t\t\t// );\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('获取图片失败，请稍后重试');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tuploadTap() {\n\t\t\tconst self = this;\n\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1, // 默认9\n\t\t\t\tsizeType: ['compressed'], // 可以指定是原图还是压缩图，默认二者都有\n\t\t\t\tsourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tlet src = res.tempFilePaths[0];\n\t\t\t\t\t//  获取裁剪图片资源后，给data添加src属性及其值\n\t\t\t\t\tself.weCropper.pushOrign(src);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tonLoad(options) {\n\t\t// do something\n\t\tconst cropperOpt = this.cropperOpt;\n\t\t\n\t\tconst src = options.src;\n\t\t\n\t\t//console.log(\"src\",options.src);\n\t\tif (src) {\n\t\t\tObject.assign(cropperOpt, {\n\t\t\t\tsrc\n\t\t\t});\n\t\t\t\n\n\t\t\tthis.weCropper = new weCropper(cropperOpt)\n\t\t\t\t.on('ready', function(ctx) {})\n\t\t\t\t.on('beforeImageLoad', ctx => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '上传中',\n\t\t\t\t\t\ticon: 'loading',\n\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.on('imageLoad', ctx => {\n\t\t\t\t\tuni.hideToast();\n\t\t\t\t});\n\t\t}\n\t}\n};\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./upload.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}