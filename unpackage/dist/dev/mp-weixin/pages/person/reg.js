(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/person/reg"],{80:
/*!**********************************************************************************!*\
  !*** /Users/danytang/web/gls/www/glsapp/main.js?{"page":"pages%2Fperson%2Freg"} ***!
  \**********************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){n(/*! uni-pages */4),n(/*! @dcloudio/uni-stat */5);t(n(/*! vue */2));function t(e){return e&&e.__esModule?e:{default:e}}e(t(n(/*! ./pages/person/reg.vue */81)).default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).createPage)},81:
/*!***************************************************************!*\
  !*** /Users/danytang/web/gls/www/glsapp/pages/person/reg.vue ***!
  \***************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./reg.vue?vue&type=template&id=33ccbf81& */82),i=n(/*! ./reg.vue?vue&type=script&lang=js& */84);for(var s in i)"default"!==s&&function(e){n.d(t,e,function(){return i[e]})}(s);n(/*! ./reg.vue?vue&type=style&index=0&lang=css& */86);var r=n(/*! ../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */16),a=Object(r.default)(i.default,o.render,o.staticRenderFns,!1,null,null,null,!1,o.components,void 0);a.options.__file="Users/danytang/web/gls/www/glsapp/pages/person/reg.vue",t.default=a.exports},82:
/*!**********************************************************************************************!*\
  !*** /Users/danytang/web/gls/www/glsapp/pages/person/reg.vue?vue&type=template&id=33ccbf81& ***!
  \**********************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reg.vue?vue&type=template&id=33ccbf81& */83);n.d(t,"render",function(){return o.render}),n.d(t,"staticRenderFns",function(){return o.staticRenderFns}),n.d(t,"recyclableRender",function(){return o.recyclableRender}),n.d(t,"components",function(){return o.components})},83:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/danytang/web/gls/www/glsapp/pages/person/reg.vue?vue&type=template&id=33ccbf81& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t),n.d(t,"render",function(){return o}),n.d(t,"staticRenderFns",function(){return s}),n.d(t,"recyclableRender",function(){return i}),n.d(t,"components",function(){});var o=function(){var e=this.$createElement;this._self._c},i=!1,s=[];o._withStripped=!0},84:
/*!****************************************************************************************!*\
  !*** /Users/danytang/web/gls/www/glsapp/pages/person/reg.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reg.vue?vue&type=script&lang=js& */85),i=n.n(o);for(var s in o)"default"!==s&&function(e){n.d(t,e,function(){return o[e]})}(s);t.default=i.a},85:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/danytang/web/gls/www/glsapp/pages/person/reg.vue?vue&type=script&lang=js& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=(o=n(/*! @/components/utils/http.js */13))&&o.__esModule?o:{default:o},s=n(/*! vuex */12);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a={components:{},data:function(){return{loginMode:1,usernameType:"text",codeBut:"获取验证码",codeClick:!0,mobile:"",password:"",repassword:"",code:"",backpage:"../index/home",Code:"",SessionKey:"",OpenId:"",bindmobile:!1,vcode:""}},computed:(0,s.mapState)(["forcedLogin"]),methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({},(0,s.mapMutations)(["login"]),{showModal:function(){this.bindmobile=!0},hideModal:function(e){this.bindmobile=!1},mobileInput:function(e){this.mobile=e.detail.value},passwordInpur:function(e){this.password=e.detail.value},repasswordInpur:function(e){this.repassword=e.detail.value},codeInput:function(e){this.code=e.detail.value},getCode:function(){this.codeClick&&(/(^1[3|4|5|7|8][0-9]{9}$)/.test(this.mobile)?(this.codeClick=!1,this._sendmsm(this.mobile)):this.$api.msg("请输入正确的手机号"))},regUp:function(){if(""!=this.mobile)if(/(^1[3|4|5|7|8][0-9]{9}$)/.test(this.mobile))if(""!=this.password)if(this.repassword==this.password)if(""!=this.code){var e={mobile:this.mobile,password:this.password,repassword:this.repassword,code:this.code,vcode:this.vcode};this._regrequest(e)}else this.$api.msg("请输入验证码");else this.$api.msg("两次密码输入不一致");else this.$api.msg("请输入密码");else this.$api.msg("手机号码格式不正确");else this.$api.msg("请输入手机号码")},_regrequest:function(t){var n=this,o=this,s=t;i.default.httpRequest({url:"/userApi/reg/",method:"post"},s).then(function(t){0==t.data.code?(o.login(t.data.token),e.navigateTo({url:n.backpage})):n.$api.msg(t.data.msg)},function(e){console.log(e)})},_sendmsm:function(t){var n=this,o=this,s={mobile:t,sendtype:"reg"};i.default.httpRequest({url:"/CommonApi/sendmsm/",method:"post"},s).then(function(e){if(0==e.data.code)var t=60,i=setInterval(function(){o.codeBut="重新发送"+t,--t<=0&&(o.codeBut="重新发送",o.codeClick=!0,clearInterval(i))},1e3);else n.$api.msg(e.data.msg)},function(t){console.log(t),e.showModal({content:err.errMsg,showCancel:!1})},function(e){n.loading=!1})},getPhoneNumberHander:function(e){var t=this;console.log("e",e);var n=this;if("getPhoneNumber:fail user deny"==e.detail.errMsg)wx.showModal({title:"提示",showCancel:!1,content:"未授权您将无法登陆",success:function(e){}});else{var o={encryptedData:e.detail.encryptedData,iv:e.detail.iv,session_key:this.SessionKey};i.default.httpRequest({url:"/CommonApi/getphone/",method:"post"},o).then(function(e){0==e.data.code?(n.weixinreg(e.data.phone),console.log(e.data)):t.$api.msg(e.data.msg)},function(e){console.log(e)})}},weixinreg:function(t){var n=this,o=this,s={mobile:t,wxopenid:this.OpenId,nickname:this.userinfo.nickName,province:this.userinfo.province,city:this.userinfo.city,country:this.userinfo.country,gender:this.userinfo.gender,vcode:o.vcode};i.default.httpRequest({url:"/UserApi/wxreg/",method:"post"},s).then(function(t){0==t.data.code?""!=t.data.token&&(o.login(t.data.token),e.navigateTo({url:o.backpage})):n.$api.msg(t.data.msg)},function(e){console.log(e)})},weixinlogin:function(){var t=this;e.showLoading({title:"登录中..."}),e.getProvider({service:"oauth",success:function(n){~n.provider.indexOf("weixin")&&e.login({provider:"weixin",success:function(n){var o=this,s=n.code;console.log(n),e.getUserInfo({provider:"weixin",success:function(e){console.log(e.userInfo);var n=e.userInfo;t.userinfo=n}});var r={code:s};t.Code=s,i.default.httpRequest({url:"/CommonApi/getwxopenid/",method:"post"},r).then(function(n){if(0==n.data.code){if(""!=n.data.token)t.login(n.data.token),e.navigateTo({url:t.backpage});else{var i=n.data.data.session_key,s=n.data.data.openid;t.OpenId=s,t.SessionKey=i,t.showModal()}e.hideLoading()}else o.$api.msg(n.data.msg)},function(e){console.log(e)})}})}})}}),onReady:function(){},onLoad:function(t){"undefined"!=t.backurl&&(this.backpage=decodeURIComponent(t.backurl));try{var n=e.getStorageSync("vcode");n&&(this.vcode=n)}catch(e){}}};t.default=a}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).default)},86:
/*!************************************************************************************************!*\
  !*** /Users/danytang/web/gls/www/glsapp/pages/person/reg.vue?vue&type=style&index=0&lang=css& ***!
  \************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reg.vue?vue&type=style&index=0&lang=css& */87),i=n.n(o);for(var s in o)"default"!==s&&function(e){n.d(t,e,function(){return o[e]})}(s);t.default=i.a},87:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/danytang/web/gls/www/glsapp/pages/person/reg.vue?vue&type=style&index=0&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){}},[[80,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/person/reg.js.map