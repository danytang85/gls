(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/money/pay"],{"0745":function(t,e,n){"use strict";var o=n("5f6e"),a=n.n(o);a.a},"374a":function(t,e,n){"use strict";n.r(e);var o=n("ad91"),a=n("5189");for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);n("0745");var i=n("2877"),u=Object(i["a"])(a["default"],o["a"],o["b"],!1,null,null,null);e["default"]=u.exports},5189:function(t,e,n){"use strict";n.r(e);var o=n("c447"),a=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);e["default"]=a.a},"5f6e":function(t,e,n){},ad91:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a})},c447:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("a34a"));a(n("0e8f"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,o,a,r,i){try{var u=t[r](i),c=u.value}catch(d){return void n(d)}u.done?e(c):Promise.resolve(c).then(o,a)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(o,a){var i=t.apply(e,n);function u(t){r(i,o,a,u,c,"next",t)}function c(t){r(i,o,a,u,c,"throw",t)}u(void 0)})}}var u={data:function(){return{payType:"wx",payamount:0,orderInfo:{},oid:""}},computed:{},onLoad:function(e){var n=e.oid;"undefined"!=n?(this.oid=n,this.getorderinfo(n)):t.showToast({title:"订单数据错误",icon:"none"})},methods:{getorderinfo:function(e){var n=this,o={url:"/orderApi/payorder/",method:"post"},a={oid:e};n.$http.httpTokenRequest(o,a).then(function(e){0==e.data["code"]?n.payamount=e.data["total"]:t.showToast({title:e.data.msg,icon:"none"})},function(t){console.log(t)})},payorder:function(){var e=this;t.showLoading({title:"支付中..."}),t.login({provider:"weixin",success:function(n){var o=n.code,a={oid:e.oid,paytype:e.payType,code:o},r={url:"/orderApi/payordercreate/",method:"post"},i=a;e.$http.httpTokenRequest(r,i).then(function(n){console.log(n.data["prepay_order"]),0==n.data["code"]?(setTimeout(function(){t.hideLoading()},1e3),t.requestPayment({provider:"wxpay",orderInfo:e.oid,timeStamp:n.data["prepay_order"].timeStamp,nonceStr:n.data["prepay_order"].nonceStr,package:n.data["prepay_order"].package,signType:n.data["prepay_order"].signType,paySign:n.data["prepay_order"].paySign,success:function(n){t.redirectTo({url:"./paySuccess?oid/"+e.oid})},fail:function(t){console.log(t)}})):(setTimeout(function(){t.hideLoading()},1e3),t.showToast({title:n.data["msg"],icon:"none"}))},function(t){console.log(t)})}})},changePayType:function(t){this.payType=t},confirm:function(){var t=i(o.default.mark(function t(){return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:"wx"==this.payType&&this.payorder();case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}};e.default=u}).call(this,n("543d")["default"])},fb60:function(t,e,n){"use strict";(function(t){n("8ad5"),n("921b");o(n("66fd"));var e=o(n("374a"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])}},[["fb60","common/runtime","common/vendor"]]]);