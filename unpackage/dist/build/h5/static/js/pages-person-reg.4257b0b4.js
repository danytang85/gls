(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-person-reg"],{"03c0":function(t,e,n){var i=n("b041");e=t.exports=n("2350")(!1),e.push([t.i,".loginBox[data-v-578f9e4c]{width:100%;margin:%?30?% auto;padding:0 %?30?%}.code[data-v-578f9e4c]{background:url("+i(n("7b0e"))+") no-repeat;background-position:%?10?%;padding-left:%?65?%;width:100%;background-size:%?58?%}.huoquyanzhengma[data-v-578f9e4c]{color:#f37b1d;line-height:%?85?%;width:%?250?%;padding:0 %?20?%;text-align:center;border-radius:%?10?%}.vcodelogon[data-v-578f9e4c]{text-align:right;padding:10px %?30?%}.username[data-v-578f9e4c]{background:url("+i(n("34db"))+") no-repeat;background-position:%?10?%;padding-left:%?75?%}.password[data-v-578f9e4c]{background:url("+i(n("888f"))+") no-repeat;background-position:%?5?%;padding-left:%?70?%}.loginInptu[data-v-578f9e4c]{height:%?80?%;margin:0 auto;background:#fff;margin-top:%?20?%;line-height:%?80?%;border-radius:%?10?%}.loginInptuCode[data-v-578f9e4c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.loginInptu>uni-input[data-v-578f9e4c]{height:100%;font-size:%?30?%}.logoImgBox[data-v-578f9e4c]{width:%?200?%;height:%?200?%;margin:0 auto;margin-bottom:%?50?%}.action-row[data-v-578f9e4c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:%?20?%}.action-row uni-navigator[data-v-578f9e4c]{padding:0 %?20?%}.otherLogin[data-v-578f9e4c]{height:%?95?%;margin:30px auto;text-align:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.otherLoginTitle[data-v-578f9e4c]{width:100%;text-align:center;color:#555;font-size:%?28?%;line-height:%?80?%}",""])},"34db":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAYAAAAj6qa3AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAp5JREFUaN7tmT1I61AYht+vbQZBwRYd6uImVPwZLEIRBYeIoILBxFZB0EG3OIkVcVEcrFBHJ8G1WjUODoUOBRGstBQHHdRJBxercah0aNPcQewFy8XrJeZcaJ7xO4dz3u/hcAI5QJVDfxoQFoQFYaGtDRvYwIYsQ4QI0ek0PWEOOeSurnLhXDgXDofjnfHOeOfbm1HLOz4XJFESJbGxsThUHCoOnZ4igwwydjv60Y/+uzuz+tYH9AF9gOMoRSlKiWKtXCvXyh7P++jExI8J0GJaTIv5fNCgQXM6kUACid5e5VV5VV7PzswS8IHwJDwJT9vbWMEKVqamjF7fVlHxww9/TU15wqBt0DaoqmY3XiaEEEIvL2hBC1p+5/o5AVWGJYB1ANZYAlgHYI0lgHUA1lgCWAdgjSWAdQDWWAJYB2CNJYB1ANZYAlgHYI3jqwmlmdJMaWZ/X/AJPsGXz5ueUIECpakJDji+Tvt9rBPw1QTbrm3Xtjs+fhg5jBxGrq//dmFJkiRJstsLa4W1wlp9/bHn2HPseX7+bsD33/Pr67jEJS6XlowWYPgJmJudm52b5bjCdGG6MJ1M0jIt03I2O8qP8qP84qLR+/13AlRVVVXV7aYd2qEdr/ejTs3UTM0jI6wb/nEB0YPoQfTg4YEe6ZEeNzdxi1vcZjI0T/M0v7rKuuHPVN4Be9jDXj4PHjx4oBQrxUqx7z+JHV0cXRxdBIPlQgc60PEPCYMIIuhyoQtd6DL+K1TxNjicHk4PpxsauG6um+u+uUESSSQdDpzjHOesnsba2+GGG+5IROEVXuEnJ43ap+IEnHhPvCfebHYsMBYYC/T1aXVanVYny5SgBCVcLrMEUA/1UI+u6/f6vX4fjRZbi63F1q0ts/avGn4BKMffdWo9cPYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTAtMDlUMTA6MjA6NTQrMDg6MDDQdnK4AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEwLTA5VDEwOjIwOjU0KzA4OjAwoSvKBAAAAEl0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vaG9tZS9hZG1pbi9pY29uLWZvbnQvdG1wL2ljb25fNzAwZG92NzZwem0vc2hvdWppLnN2Z9gNsOYAAAAASUVORK5CYII="},7409:function(t,e,n){var i=n("03c0");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("6ea03c02",i,!0,{sourceMap:!1,shadowMode:!1})},"7b0e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACqklEQVRYR+VWQVYUMRD91c2CncMJgJW6MiYXGE4A7txBn4DhBOAJHE4w4w3gBHCBxLBSV+gNYMemU74aM7yZ6Z5OGvXhe2bZqU7+/1WV+oRnXvTM9+NJAJRSqiiKQwBHkcA0hHDuvf/el1A2AKXUoCzLfQAjAIqZbwCM44UjInoDwMu3uq4vvfd3OWCSAJRSQ2FLRML2npmF7XiVrVJqpygKASJxL2LcJ+/9dReQVgDxsJnERLQD4BLA1Fp7kcPKGHMQ07PPzJIWAS1gGilqANBanxHRKTP/EDlDCNNcOVfBRSICRpTZZuYT59w8bbPwBgBjDDNz5Zyb5rDNjdFaS2o+Oue2Fv9pBVDX9V4qd7kXz+OklsqyvLLWLt357wHQWkvVXjvnzh5ZfpscgOm4hfUGGBsgPDT2iM/xsnos2mwFWgHcTgZ4mPX/6noPYFOqvLGziTF2q8e3IHaGdNKgswZaAaxL+JfJrx5/XQ1TNSHdBWDonFuKbWvDZgr+NwCtUrWK8JdS8OwApNqPnXO7qcJCDwWMMVOZC0vt3fYUz/u1ruut5AzoAUBrLYNonJwFwtoYc8fMo+Q8yAQgBqYsy89tpFrHscgFYNtau9eZhkwA8byBtVYm49Ja6wfKsrwF8K7TA3ydyGjdwauqcfDqEFo34NY6ovhyHYYQ3iZrYY1M0cZdAbix1s79Y1oBiZCfi6K4JiKO6LM83uLpxpgLZlYhBLWORKcnfCqIyHwCYK+u66H3Xsxq68oxpTMlpCiJqEr5wmhi5fL7EMJR1+WCKAlgDltrPSaiY2YWn/hhVdKo1ikRjZj5PIRwllM72QBiXYhFlxblEEI1t20LrCmy7rTinX4g9fxGpuKcZ2rMZOzJ+rcALPZ3VAN9Wf8RACmlcvd71UDuoX3ifgKRw6UwTLmLegAAAABJRU5ErkJggg=="},"888f":function(t,e){t.exports="data:image/png;base64,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"},"9f66":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("cu-custom",{attrs:{bgColor:"bg-gradual-orange",isBack:!1}},[n("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),n("template",{attrs:{slot:"content"},slot:"content"},[t._v("会员注册")])],2),n("v-uni-view",{staticClass:"loginBox"},[n("v-uni-view",{staticClass:"loginInptu"},[n("v-uni-input",{staticClass:"username",attrs:{type:"number",value:"",placeholder:"请输入手机号",maxlength:"11"},on:{input:function(e){e=t.$handleEvent(e),t.mobileInput(e)}}})],1),n("v-uni-view",{staticClass:"loginInptu"},[n("v-uni-input",{staticClass:"password",attrs:{type:"password",value:"",placeholder:"请输入密码",maxlength:"16"},on:{input:function(e){e=t.$handleEvent(e),t.passwordInpur(e)}}})],1),n("v-uni-view",{staticClass:"loginInptu"},[n("v-uni-input",{staticClass:"password",attrs:{type:"password",value:"",placeholder:"重复输入密码",maxlength:"16"},on:{input:function(e){e=t.$handleEvent(e),t.repasswordInpur(e)}}})],1),n("v-uni-view",{staticClass:"loginInptu loginInptuCode"},[n("v-uni-input",{staticClass:"code",attrs:{type:"text",value:"",placeholder:"请输入验证码",maxlength:"4"},on:{input:function(e){e=t.$handleEvent(e),t.codeInput(e)}}}),n("v-uni-view",{staticClass:"huoquyanzhengma ",on:{click:function(e){e=t.$handleEvent(e),t.getCode(e)}}},[t._v(t._s(t.codeBut))])],1)],1),n("v-uni-view",{staticClass:"btn-row"},[n("v-uni-button",{staticClass:"bg-orange",on:{click:function(e){e=t.$handleEvent(e),t.regUp(e)}}},[t._v("注册")])],1),n("v-uni-view",{staticClass:"action-row"},[n("v-uni-navigator",{staticClass:"text-black",attrs:{url:"../person/logon"}},[t._v("登录")])],1),t.bindmobile?n("v-uni-view",{staticClass:"cu-modal bottom-modal show"},[n("v-uni-view",{staticClass:"cu-dialog"},[n("v-uni-view",{staticClass:"cu-bar bg-white"},[n("v-uni-view",{staticClass:"action text-black"},[t._v("绑定当前手机号登录")]),n("v-uni-view",{staticClass:"action text-blue",on:{click:function(e){e=t.$handleEvent(e),t.hideModal(e)}}},[t._v("取消")])],1),n("v-uni-view",{staticClass:"padding-xl"},[n("v-uni-button",{staticClass:"cu-btn   margin-tb-sm",staticStyle:{"background-color":"inherit"},attrs:{"open-type":"getPhoneNumber"},on:{getphonenumber:function(e){e=t.$handleEvent(e),t.getPhoneNumberHander(e)}}},[n("v-uni-text",{staticClass:"iconfont icon-task__bangdingshoujihaoma",staticStyle:{"font-size":"60px",color:"#39B54A"}})],1)],1)],1)],1):t._e(),n("v-uni-view",{staticClass:"otherLogin"},[n("v-uni-button",{staticClass:"cu-btn block margin-tb-sm",attrs:{"open-type":"getUserInfo"},on:{getuserinfo:function(e){e=t.$handleEvent(e),t.weixinlogin(e)}}},[n("v-uni-text",{staticClass:"iconfont icon-weixin",staticStyle:{"font-size":"40px",color:"#39B54A"}})],1)],1)],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},b948:function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("cebc")),a=i(n("0e8f")),s=n("2f62"),c={components:{},data:function(){return{loginMode:1,usernameType:"text",codeBut:"获取验证码",codeClick:!0,mobile:"",password:"",repassword:"",code:"",backpage:"../index/home",Code:"",SessionKey:"",OpenId:"",bindmobile:!1,vcode:""}},computed:(0,s.mapState)(["forcedLogin"]),methods:(0,o.default)({},(0,s.mapMutations)(["login"]),{showModal:function(){this.bindmobile=!0},hideModal:function(t){this.bindmobile=!1},mobileInput:function(t){this.mobile=t.detail.value},passwordInpur:function(t){this.password=t.detail.value},repasswordInpur:function(t){this.repassword=t.detail.value},codeInput:function(t){this.code=t.detail.value},getCode:function(){var t=this;t.codeClick&&(/(^1[3|4|5|7|8][0-9]{9}$)/.test(t.mobile)?(t.codeClick=!1,t._sendmsm(t.mobile)):this.$api.msg("请输入正确的手机号"))},regUp:function(){var t=this;if(""!=t.mobile)if(/(^1[3|4|5|7|8][0-9]{9}$)/.test(t.mobile))if(""!=t.password)if(t.repassword==t.password)if(""!=t.code){var e={mobile:t.mobile,password:t.password,repassword:t.repassword,code:t.code,vcode:t.vcode};this._regrequest(e)}else this.$api.msg("请输入验证码");else this.$api.msg("两次密码输入不一致");else this.$api.msg("请输入密码");else this.$api.msg("手机号码格式不正确");else this.$api.msg("请输入手机号码")},_regrequest:function(t){var e=this,n=this,i={url:"/userApi/reg/",method:"post"},o=t;a.default.httpRequest(i,o).then(function(t){0==t.data["code"]?(n.login(t.data["token"]),uni.navigateTo({url:e.backpage})):e.$api.msg(t.data.msg)},function(t){console.log(t)})},_sendmsm:function(t){var e=this,n=this,i={url:"/CommonApi/sendmsm/",method:"post"},o={mobile:t,sendtype:"reg"};a.default.httpRequest(i,o).then(function(t){if(0==t.data["code"])var i=60,o=setInterval(function(){n.codeBut="重新发送"+i,i--,i<=0&&(n.codeBut="重新发送",n.codeClick=!0,clearInterval(o))},1e3);else e.$api.msg(t.data.msg)},function(t){console.log(t),uni.showModal({content:err.errMsg,showCancel:!1})},function(t){e.loading=!1})},getPhoneNumberHander:function(t){var e=this;console.log("e",t);var n=this;if("getPhoneNumber:fail user deny"==t.detail.errMsg)wx.showModal({title:"提示",showCancel:!1,content:"未授权您将无法登陆",success:function(t){}});else{var i={url:"/CommonApi/getphone/",method:"post"},o={encryptedData:t.detail.encryptedData,iv:t.detail.iv,session_key:this.SessionKey};a.default.httpRequest(i,o).then(function(t){0==t.data["code"]?(n.weixinreg(t.data["phone"]),console.log(t.data)):e.$api.msg(t.data.msg)},function(t){console.log(t)})}},weixinreg:function(t){var e=this,n=this,i={url:"/UserApi/wxreg/",method:"post"},o={mobile:t,wxopenid:this.OpenId,nickname:this.userinfo["nickName"],province:this.userinfo["province"],city:this.userinfo["city"],country:this.userinfo["country"],gender:this.userinfo["gender"],vcode:n.vcode};a.default.httpRequest(i,o).then(function(t){0==t.data["code"]?""!=t.data["token"]&&(n.login(t.data["token"]),uni.navigateTo({url:n.backpage})):e.$api.msg(t.data.msg)},function(t){console.log(t)})},weixinlogin:function(){var t=this;uni.showLoading({title:"登录中..."}),uni.getProvider({service:"oauth",success:function(e){~e.provider.indexOf("weixin")&&uni.login({provider:"weixin",success:function(e){var n=this,i=e.code;console.log(e),uni.getUserInfo({provider:"weixin",success:function(e){console.log(e.userInfo);var n=e.userInfo;t.userinfo=n}});var o={url:"/CommonApi/getwxopenid/",method:"post"},s={code:i};t.Code=i,a.default.httpRequest(o,s).then(function(e){if(0==e.data["code"]){if(""!=e.data["token"])t.login(e.data["token"]),uni.navigateTo({url:t.backpage});else{var i=e.data["data"].session_key,o=e.data["data"].openid;t.OpenId=o,t.SessionKey=i,t.showModal()}uni.hideLoading()}else n.$api.msg(e.data.msg)},function(t){console.log(t)})}})}})}}),onReady:function(){},onLoad:function(t){"undefined"!=t.backurl&&(this.backpage=decodeURIComponent(t.backurl));try{var e=uni.getStorageSync("vcode");e&&(this.vcode=e)}catch(n){}}};e.default=c},be98:function(t,e,n){"use strict";var i=n("7409"),o=n.n(i);o.a},c225:function(t,e,n){"use strict";n.r(e);var i=n("9f66"),o=n("d440");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("be98");var s=n("2877"),c=Object(s["a"])(o["default"],i["a"],i["b"],!1,null,"578f9e4c",null);e["default"]=c.exports},d440:function(t,e,n){"use strict";n.r(e);var i=n("b948"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a}}]);